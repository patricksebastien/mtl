#N canvas 27 277 705 427 10;
#X obj 33 21 inlet~;
#X obj 34 279 outlet~;
#X obj 128 256 outlet~;
#X obj 95 22 inlet~;
#X obj 531 -4 inlet params;
#X obj 531 42 print PARAM_NOTFOUND;
#X obj 531 18 tof/param route;
#X obj 386 168 b;
#X obj 387 197 tof/param gui;
#N canvas 294 325 786 441 qompander 0;
#X obj 107 369 /~;
#X obj 92 396 *~;
#X obj 122 315 peakenv~ 20;
#N canvas 55 211 331 344 mapping 0;
#X obj 89 62 inlet~;
#X obj 20 282 outlet~;
#X obj 104 112 r \$0-factor;
#X obj 20 12 r \$0-exponent;
#X obj 140 11 r \$0-clip;
#X floatatom 200 64 5 0 0 0 - - -;
#X floatatom 168 159 5 0 0 0 - - -;
#X floatatom 29 63 8 0 0 0 - - -;
#X obj 20 256 cyclone/pow~;
#X obj 89 87 clip~ 0 2;
#X obj 89 230 clip~ 1e-07 1;
#X text 20 308 \$0-exponent and \$0-clip come frome [pd exponent];
#N canvas 0 22 150 189 sin~ 0;
#X obj 39 38 inlet~;
#X obj 39 69 -~ 0.25;
#X obj 39 100 cos~;
#X obj 39 127 outlet~;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X restore 89 205 pd sin~;
#X obj 20 131 line~;
#X msg 20 100 \$1 100;
#X obj 89 182 *~;
#X msg 140 40 \$1 200;
#X msg 104 135 \$1 200;
#X obj 140 63 line 1 5;
#X obj 104 158 line~ 1 5;
#X connect 0 0 9 0;
#X connect 2 0 17 0;
#X connect 3 0 7 0;
#X connect 3 0 14 0;
#X connect 4 0 16 0;
#X connect 8 0 1 0;
#X connect 9 0 15 0;
#X connect 10 0 8 1;
#X connect 12 0 10 0;
#X connect 13 0 8 0;
#X connect 14 0 13 0;
#X connect 15 0 12 0;
#X connect 16 0 5 0;
#X connect 16 0 18 0;
#X connect 17 0 6 0;
#X connect 17 0 19 0;
#X connect 18 0 9 2;
#X connect 19 0 15 1;
#X restore 107 344 pd mapping;
#X obj 47 454 outlet~;
#X obj 47 67 inlet~;
#X obj 111 67 inlet;
#X obj 174 68 inlet;
#X obj 47 397 *~;
#X obj 47 427 *~ 0.707;
#X text 100 454 audio;
#X text 106 159 quadrature transformer;
#N canvas 288 22 381 415 exponent 0;
#X obj 218 248 t b f;
#X text 171 297 1.5708 = pi/2;
#X obj 218 125 dbtorms;
#X obj 218 103 + 100;
#X obj 218 80 clip -96 -20;
#X obj 20 70 clip 0.8 8;
#X obj 218 22 inlet;
#X text 216 0 compander point;
#X obj 20 20 inlet;
#X obj 20 280 expr log($f2)/log(sin($f1*$f2*1.5708));
#X obj 34 249 s \$0-factor;
#X obj 20 338 s \$0-exponent;
#X obj 34 226 * 0.25;
#X obj 49 99 t b f;
#X obj 49 148 /;
#X msg 49 123 1;
#X obj 49 199 s \$0-clip;
#X text 18 364 the parameters factor \, exponent and clip are used
in the patch [pd mapping];
#X msg 73 46 1;
#X obj 73 20 loadbang;
#X msg 107 46 -96;
#X text 17 1 compander factor;
#X connect 0 0 9 0;
#X connect 0 1 9 1;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X connect 4 0 3 0;
#X connect 5 0 9 0;
#X connect 5 0 12 0;
#X connect 5 0 13 0;
#X connect 6 0 4 0;
#X connect 8 0 5 0;
#X connect 9 0 11 0;
#X connect 12 0 10 0;
#X connect 13 0 15 0;
#X connect 13 1 14 1;
#X connect 14 0 16 0;
#X connect 15 0 14 0;
#X connect 18 0 5 0;
#X connect 19 0 20 0;
#X connect 19 0 18 0;
#X connect 20 0 4 0;
#X restore 111 117 pd exponent;
#X obj 265 70 inlet;
#N canvas 0 22 186 218 pyth~ 0;
#X obj 35 25 inlet~;
#X obj 98 25 inlet~;
#X obj 35 69 *~;
#X obj 98 69 *~;
#X obj 35 129 sqrt~;
#X obj 35 100 +~;
#X obj 35 163 outlet~;
#X connect 0 0 2 0;
#X connect 0 0 2 1;
#X connect 1 0 3 0;
#X connect 1 0 3 1;
#X connect 2 0 5 0;
#X connect 3 0 5 1;
#X connect 4 0 6 0;
#X connect 5 0 4 0;
#X restore 122 204 pd pyth~;
#X obj 346 70 inlet;
#X text 174 44 point;
#X text 173 29 compander;
#X text 344 47 time;
#X text 343 31 recovery;
#X text 104 28 compander;
#X text 46 29 audio;
#X text 267 30 response;
#X text 266 46 time;
#N canvas 427 191 493 331 olli~ 0;
#X obj 264 85 delay~ 1 1;
#X obj 264 56 inlet~;
#X obj 39 237 outlet~;
#X obj 264 239 outlet~;
#X text 37 289 y[n]=b1*y[n-1]+b2*y[n-2]+a0*x[n]+a1*x[n-1]+a2*x[n-2]
;
#X text 36 270 Pd's biquad:;
#X obj 39 112 biquad~ 0 0.161758 0.161758 0 -1;
#X obj 39 141 biquad~ 0 0.733029 0.733029 0 -1;
#X obj 39 173 biquad~ 0 0.94535 0.94535 0 -1;
#X obj 39 200 biquad~ 0 0.990598 0.990598 0 -1;
#X obj 264 112 biquad~ 0 0.479401 0.479401 0 -1;
#X obj 264 142 biquad~ 0 0.876218 0.876218 0 -1;
#X obj 264 174 biquad~ 0 0.976599 0.976599 0 -1;
#X obj 264 202 biquad~ 0 0.9975 0.9975 0 -1;
#X text 91 238 first phase;
#X text 320 238 second phase;
#X text 167 238 << 90 degree >>;
#X text 40 25 Olli Niemitalo's quadrature transformer coefficients
;
#X connect 0 0 10 0;
#X connect 1 0 0 0;
#X connect 1 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 2 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 13 0 3 0;
#X restore 47 161 pd olli~;
#X obj 122 229 clip~ 1e-05 100;
#X obj 265 96 clip 1 7.3;
#X obj 179 259 pow 5;
#X obj 122 284 lop~ 20000;
#X text 177 341 compander curve;
#X text 197 315 bridge amplitude modulation;
#X text 223 229 prevent division by zero!;
#X text 181 204 compute instantaneous amplitudes;
#X obj 346 96 clip 20 1000;
#X obj 173 389 cnv 15 250 80 empty empty empty 20 12 0 14 -233017 -66577
0;
#X text 182 397 [qompander~] quadrature compander;
#X text 183 426 Katja Vetter 2010;
#X text 183 444 www.katjaas.nl/compander/compander.html;
#X text 105 45 factor;
#X obj 265 167 line;
#X msg 265 142 \$1 100;
#X text 41 488 [qompander~] uses two objects specific to Pd extended:
[expr] and [cyclone/pow~].;
#X connect 0 0 1 1;
#X connect 0 0 8 1;
#X connect 1 0 9 0;
#X connect 2 0 3 0;
#X connect 2 0 0 1;
#X connect 3 0 0 0;
#X connect 5 0 24 0;
#X connect 6 0 12 0;
#X connect 7 0 12 1;
#X connect 8 0 9 0;
#X connect 9 0 4 0;
#X connect 13 0 26 0;
#X connect 14 0 25 0;
#X connect 15 0 33 0;
#X connect 24 0 8 0;
#X connect 24 0 14 0;
#X connect 24 1 1 0;
#X connect 24 1 14 1;
#X connect 25 0 28 0;
#X connect 26 0 40 0;
#X connect 27 0 28 1;
#X connect 28 0 2 0;
#X connect 33 0 2 1;
#X connect 39 0 27 0;
#X connect 40 0 39 0;
#X restore 70 159 pd qompander;
#X obj 166 -5 tof/param /compander-factor 1 /g slider 0.8 8;
#X obj 188 19 tof/param /compander-point -50 /g slider -96 -20;
#X obj 237 71 tof/param /recovery-time 100 /g slider 20 400;
#X obj 212 43 tof/param /response-time 3 /g slider 7.3 1;
#N canvas 289 236 786 441 qompander 0;
#X obj 107 369 /~;
#X obj 92 396 *~;
#X obj 122 315 peakenv~ 20;
#N canvas 55 211 331 344 mapping 0;
#X obj 89 62 inlet~;
#X obj 20 282 outlet~;
#X obj 104 112 r \$0-factor;
#X obj 20 12 r \$0-exponent;
#X obj 140 11 r \$0-clip;
#X floatatom 200 64 5 0 0 0 - - -;
#X floatatom 168 159 5 0 0 0 - - -;
#X floatatom 29 63 8 0 0 0 - - -;
#X obj 20 256 cyclone/pow~;
#X obj 89 87 clip~ 0 2;
#X obj 89 230 clip~ 1e-07 1;
#X text 20 308 \$0-exponent and \$0-clip come frome [pd exponent];
#N canvas 0 22 150 189 sin~ 0;
#X obj 39 38 inlet~;
#X obj 39 69 -~ 0.25;
#X obj 39 100 cos~;
#X obj 39 127 outlet~;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X restore 89 205 pd sin~;
#X obj 20 131 line~;
#X msg 20 100 \$1 100;
#X obj 89 182 *~;
#X msg 140 40 \$1 200;
#X msg 104 135 \$1 200;
#X obj 140 63 line 1 5;
#X obj 104 158 line~ 1 5;
#X connect 0 0 9 0;
#X connect 2 0 17 0;
#X connect 3 0 7 0;
#X connect 3 0 14 0;
#X connect 4 0 16 0;
#X connect 8 0 1 0;
#X connect 9 0 15 0;
#X connect 10 0 8 1;
#X connect 12 0 10 0;
#X connect 13 0 8 0;
#X connect 14 0 13 0;
#X connect 15 0 12 0;
#X connect 16 0 5 0;
#X connect 16 0 18 0;
#X connect 17 0 6 0;
#X connect 17 0 19 0;
#X connect 18 0 9 2;
#X connect 19 0 15 1;
#X restore 107 344 pd mapping;
#X obj 47 454 outlet~;
#X obj 47 67 inlet~;
#X obj 111 67 inlet;
#X obj 174 68 inlet;
#X obj 47 397 *~;
#X obj 47 427 *~ 0.707;
#X text 100 454 audio;
#X text 106 159 quadrature transformer;
#N canvas 288 22 381 415 exponent 0;
#X obj 218 248 t b f;
#X text 171 297 1.5708 = pi/2;
#X obj 218 125 dbtorms;
#X obj 218 103 + 100;
#X obj 218 80 clip -96 -20;
#X obj 20 70 clip 0.8 8;
#X obj 218 22 inlet;
#X text 216 0 compander point;
#X obj 20 20 inlet;
#X obj 20 280 expr log($f2)/log(sin($f1*$f2*1.5708));
#X obj 34 249 s \$0-factor;
#X obj 20 338 s \$0-exponent;
#X obj 34 226 * 0.25;
#X obj 49 99 t b f;
#X obj 49 148 /;
#X msg 49 123 1;
#X obj 49 199 s \$0-clip;
#X text 18 364 the parameters factor \, exponent and clip are used
in the patch [pd mapping];
#X msg 73 46 1;
#X obj 73 20 loadbang;
#X msg 107 46 -96;
#X text 17 1 compander factor;
#X connect 0 0 9 0;
#X connect 0 1 9 1;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X connect 4 0 3 0;
#X connect 5 0 9 0;
#X connect 5 0 12 0;
#X connect 5 0 13 0;
#X connect 6 0 4 0;
#X connect 8 0 5 0;
#X connect 9 0 11 0;
#X connect 12 0 10 0;
#X connect 13 0 15 0;
#X connect 13 1 14 1;
#X connect 14 0 16 0;
#X connect 15 0 14 0;
#X connect 18 0 5 0;
#X connect 19 0 20 0;
#X connect 19 0 18 0;
#X connect 20 0 4 0;
#X restore 111 117 pd exponent;
#X obj 265 70 inlet;
#N canvas 0 22 186 218 pyth~ 0;
#X obj 35 25 inlet~;
#X obj 98 25 inlet~;
#X obj 35 69 *~;
#X obj 98 69 *~;
#X obj 35 129 sqrt~;
#X obj 35 100 +~;
#X obj 35 163 outlet~;
#X connect 0 0 2 0;
#X connect 0 0 2 1;
#X connect 1 0 3 0;
#X connect 1 0 3 1;
#X connect 2 0 5 0;
#X connect 3 0 5 1;
#X connect 4 0 6 0;
#X connect 5 0 4 0;
#X restore 122 204 pd pyth~;
#X obj 346 70 inlet;
#X text 174 44 point;
#X text 173 29 compander;
#X text 344 47 time;
#X text 343 31 recovery;
#X text 104 28 compander;
#X text 46 29 audio;
#X text 267 30 response;
#X text 266 46 time;
#N canvas 427 191 493 331 olli~ 0;
#X obj 264 85 delay~ 1 1;
#X obj 264 56 inlet~;
#X obj 39 237 outlet~;
#X obj 264 239 outlet~;
#X text 37 289 y[n]=b1*y[n-1]+b2*y[n-2]+a0*x[n]+a1*x[n-1]+a2*x[n-2]
;
#X text 36 270 Pd's biquad:;
#X obj 39 112 biquad~ 0 0.161758 0.161758 0 -1;
#X obj 39 141 biquad~ 0 0.733029 0.733029 0 -1;
#X obj 39 173 biquad~ 0 0.94535 0.94535 0 -1;
#X obj 39 200 biquad~ 0 0.990598 0.990598 0 -1;
#X obj 264 112 biquad~ 0 0.479401 0.479401 0 -1;
#X obj 264 142 biquad~ 0 0.876218 0.876218 0 -1;
#X obj 264 174 biquad~ 0 0.976599 0.976599 0 -1;
#X obj 264 202 biquad~ 0 0.9975 0.9975 0 -1;
#X text 91 238 first phase;
#X text 320 238 second phase;
#X text 167 238 << 90 degree >>;
#X text 40 25 Olli Niemitalo's quadrature transformer coefficients
;
#X connect 0 0 10 0;
#X connect 1 0 0 0;
#X connect 1 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 2 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 13 0 3 0;
#X restore 47 161 pd olli~;
#X obj 122 229 clip~ 1e-05 100;
#X obj 265 96 clip 1 7.3;
#X obj 179 259 pow 5;
#X obj 122 284 lop~ 20000;
#X text 177 341 compander curve;
#X text 197 315 bridge amplitude modulation;
#X text 223 229 prevent division by zero!;
#X text 181 204 compute instantaneous amplitudes;
#X obj 346 96 clip 20 1000;
#X obj 173 389 cnv 15 250 80 empty empty empty 20 12 0 14 -233017 -66577
0;
#X text 182 397 [qompander~] quadrature compander;
#X text 183 426 Katja Vetter 2010;
#X text 183 444 www.katjaas.nl/compander/compander.html;
#X text 105 45 factor;
#X obj 265 167 line;
#X msg 265 142 \$1 100;
#X text 41 488 [qompander~] uses two objects specific to Pd extended:
[expr] and [cyclone/pow~].;
#X connect 0 0 1 1;
#X connect 0 0 8 1;
#X connect 1 0 9 0;
#X connect 2 0 3 0;
#X connect 2 0 0 1;
#X connect 3 0 0 0;
#X connect 5 0 24 0;
#X connect 6 0 12 0;
#X connect 7 0 12 1;
#X connect 8 0 9 0;
#X connect 9 0 4 0;
#X connect 13 0 26 0;
#X connect 14 0 25 0;
#X connect 15 0 33 0;
#X connect 24 0 8 0;
#X connect 24 0 14 0;
#X connect 24 1 1 0;
#X connect 24 1 14 1;
#X connect 25 0 28 0;
#X connect 26 0 40 0;
#X connect 27 0 28 1;
#X connect 28 0 2 0;
#X connect 33 0 2 1;
#X connect 39 0 27 0;
#X connect 40 0 39 0;
#X restore 171 162 pd qompander;
#X connect 0 0 9 0;
#X connect 3 0 14 0;
#X connect 4 0 6 0;
#X connect 6 0 5 0;
#X connect 7 0 8 0;
#X connect 9 0 1 0;
#X connect 10 0 9 1;
#X connect 10 0 14 1;
#X connect 11 0 9 2;
#X connect 11 0 14 2;
#X connect 12 0 9 4;
#X connect 12 0 14 4;
#X connect 13 0 9 3;
#X connect 13 0 14 3;
#X connect 14 0 2 0;
